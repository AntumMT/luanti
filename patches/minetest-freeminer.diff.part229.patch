diff -ruN minetest-master/src/debug.h minetest-freeminer/src/debug.h
--- minetest-master/src/debug.h	2016-09-03 16:15:52.597779000 -0700
+++ minetest-freeminer/src/debug.h	2016-09-03 15:43:59.754740000 -0700
@@ -1,20 +1,23 @@
 /*
-Minetest
+debug.h
 Copyright (C) 2013 celeron55, Perttu Ahola <celeron55@gmail.com>
+*/
+
+/*
+This file is part of Freeminer.
 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU Lesser General Public License as published by
-the Free Software Foundation; either version 2.1 of the License, or
+Freeminer is free software: you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.
 
-This program is distributed in the hope that it will be useful,
+Freeminer  is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU Lesser General Public License for more details.
+GNU General Public License for more details.
 
-You should have received a copy of the GNU Lesser General Public License along
-with this program; if not, write to the Free Software Foundation, Inc.,
-51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+You should have received a copy of the GNU General Public License
+along with Freeminer.  If not, see <http://www.gnu.org/licenses/>.
 */
 
 #ifndef DEBUG_HEADER
@@ -26,7 +29,7 @@
 #include "gettime.h"
 #include "log.h"
 
-#if (defined(WIN32) || defined(_WIN32_WCE))
+#if (defined(WIN32) || defined(_WIN32) || defined(_WIN32_WCE))
 	#define WIN32_LEAN_AND_MEAN
 	#ifndef _WIN32_WINNT
 		#define _WIN32_WINNT 0x0501
@@ -53,7 +56,10 @@
 
 /* Abort program execution immediately
  */
-NORETURN extern void fatal_error_fn(
+#ifndef __ANDROID__
+NORETURN
+#endif
+extern void fatal_error_fn(
 		const char *msg, const char *file,
 		unsigned int line, const char *function);
 
@@ -71,7 +77,10 @@
 	defined)
 */
 
-NORETURN extern void sanity_check_fn(
+#ifndef __ANDROID__
+NORETURN
+#endif
+extern void sanity_check_fn(
 		const char *assertion, const char *file,
 		unsigned int line, const char *function);
 
@@ -134,6 +143,18 @@
 	#define END_DEBUG_EXCEPTION_HANDLER
 #endif
 
+
+//#define EXEPTION_DEBUG 1 // Disable almost all catch() to get good system stacktraces
+
+#if EXEPTION_DEBUG
+	#define EXCEPTION_HANDLER_BEGIN
+	#define EXCEPTION_HANDLER_END
+#else
+	#define EXCEPTION_HANDLER_BEGIN try {
+	#define EXCEPTION_HANDLER_END } catch (std::exception &e) { errorstream << m_name << ": An unhandled exception occurred: " << e.what() << std::endl; } \
+									catch (...)               { errorstream << m_name << ": Ooops..." << std::endl; }
+#endif
+
 #endif // DEBUG_HEADER
 
 
