diff -ruN minetest-master/src/mapgen_v5.h minetest-freeminer/src/mapgen_v5.h
--- minetest-master/src/mapgen_v5.h	2016-09-03 16:15:52.625779000 -0700
+++ minetest-freeminer/src/mapgen_v5.h	2016-09-03 15:43:59.954741000 -0700
@@ -22,6 +22,7 @@
 #define MAPGEN_V5_HEADER
 
 #include "mapgen.h"
+#include "mapgen_indev.h"
 
 #define MGV5_LARGE_CAVE_DEPTH -256
 
@@ -40,15 +41,23 @@
 	NoiseParams np_cave2;
 	NoiseParams np_ground;
 
+	s16 float_islands;
+	NoiseParams np_float_islands1;
+	NoiseParams np_float_islands2;
+	NoiseParams np_float_islands3;
+	NoiseParams np_layers;
+	//NoiseParams np_cave_indev;
+	Json::Value paramsj;
+
 	MapgenV5Params();
 	~MapgenV5Params() {}
 
-	void readParams(const Settings *settings);
+	void readParams(Settings *settings);
 	void writeParams(Settings *settings) const;
 };
 
 
-class MapgenV5 : public MapgenBasic {
+class MapgenV5 : public MapgenBasic, public Mapgen_features {
 public:
 	MapgenV5(int mapgenid, MapgenV5Params *params, EmergeManager *emerge);
 	~MapgenV5();
@@ -63,6 +72,10 @@
 	Noise *noise_factor;
 	Noise *noise_height;
 	Noise *noise_ground;
+
+	//freeminer:
+	s16 float_islands;
+
 };
 
 #endif
